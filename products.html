<!doctype html>
<html lang="mn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Бүтээгдэхүүн | Matrix Eco Salon</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-content">
        <div class="brand">
          <img src="logo.png" alt="Matrix Eco Salon" class="brand-mark" />
          <div>
            <div class="brand-name">Matrix Eco Salon</div>
            <div class="brand-tagline">Эко орчин • Орчин үеийн хэв маяг</div>
          </div>
        </div>
        <nav class="nav">
          <a href="index.html">Бидний тухай</a>
          <a href="team.html#team">Манай Баг</a>
          <a href="services.html#services">Үйлчилгээ ба үнэ</a>
          <a href="index.html#booking">Цаг авах</a>
          <div class="nav-dropdown">
            <span class="nav-dropdown-label">Бүтээгдэхүүн <span class="nav-dropdown-arrow">▼</span></span>
            <div class="nav-dropdown-menu">
              <a href="products.html#products">Amos</a>
              <a href="keune-products.html">Keune</a>
            </div>
          </div>
          <a href="index.html#contact">Холбоо барих</a>
        </nav>
        <a class="primary-btn" href="index.html#booking">Цаг захиалах</a>
      </div>
    </header>

    <main>
      <section id="products" class="section">
        <div class="container">
          <div class="section-title">
            <h2>Бүтээгдэхүүн</h2>
            <p>Бид Amos Professional-ийн албан ёсны дистрибьютер.</p>
          </div>
          <div id="products-filters" class="products-filters"></div>
          <div id="products-grid" class="products-grid"></div>
          <div id="products-pagination" class="products-pagination" aria-label="Product pagination"></div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <p>© 2026 Matrix Eco Salon. Бүх эрх хуулиар хамгаалагдсан. Гүйцэтгэсэн <a href="https://dalatech.online" target="_blank" style="color: var(--accent); text-decoration: none;">DalaTech</a></p>
      </div>
    </footer>

    <!-- Matrix Chatbot Widget -->
    <button id="matrix-chat-toggle"
            aria-label="Open Matrix Chat"
            aria-expanded="false">
      
      <img src="https://i.imgur.com/nIMY0P1.png" 
           alt="Matrix Logo" 
           style="width: 100%; height: 100%; object-fit: contain; padding: 6px;">
    </button>

    <div id="matrix-chatbot-container"
         style="display: none;">
         
      <iframe src="https://matrix-chatbot-seven.vercel.app/"
              width="100%" height="100%" frameborder="0"
              style="border-radius: 16px;"
              title="Matrix Salon Chatbot"></iframe>
    </div>

    <style>
      /* 1. Base Button Styles */
      #matrix-chat-toggle {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 99999;
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: #000000; /* Brand Black */
        border: 2px solid #333;
        box-shadow: 0 4px 12px rgba(0,0,0,0.5);
        cursor: pointer;
        overflow: hidden;
        padding: 0;
        transition: all 0.3s ease; /* Smooth animation for everything */
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* 2. Container Styles */
      #matrix-chatbot-container {
        position: fixed;
        bottom: 100px;
        right: 20px;
        width: 400px;
        height: 600px;
        max-height: 80vh;
        background: #1F1F1F;
        border-radius: 16px;
        box-shadow: 0 5px 40px rgba(0,0,0,0.6);
        z-index: 99999;
        overflow: hidden;
        border: 1px solid #333;
      }

      /* 3. HOVER EFFECT (When closed) */
      /* Scale up to 1.1 size */
      #matrix-chat-toggle:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(100, 211, 154, 0.6); /* Green Glow */
        border-color: #64d39a;
      }

      /* 4. OPEN STATE (When chat is active) */
      /* Rotate 45 degrees */
      #matrix-chat-toggle.is-open {
        transform: rotate(45deg);
        border-color: #64d39a; /* Keep green border while open */
      }

      /* 5. OPEN + HOVER STATE (Fixing the bug) */
      /* Keep the 45deg rotation AND add the scale */
      #matrix-chat-toggle.is-open:hover {
        transform: rotate(45deg) scale(1.1);
      }
      
      /* Mobile Responsiveness */
      @media (max-width: 480px) {
        #matrix-chatbot-container {
          width: calc(100% - 32px) !important;
          height: 70vh !important;
          bottom: 100px !important;
          right: 16px !important;
        }
      }
    </style>

    <script>
      (function() {
        const container = document.getElementById('matrix-chatbot-container');
        const btn = document.getElementById('matrix-chat-toggle');

        if (!container || !btn) {
          console.error('Matrix chatbot elements not found');
          return;
        }

        btn.addEventListener('click', function() {
          const isHidden = container.style.display === 'none' || container.style.display === '';
          
          // Toggle the Chat Window
          container.style.display = isHidden ? 'block' : 'none';
          
          // Toggle the CSS class 'is-open' (This handles the rotation now)
          if (isHidden) {
            btn.classList.add('is-open');
            btn.setAttribute('aria-expanded', 'true');
          } else {
            btn.classList.remove('is-open');
            btn.setAttribute('aria-expanded', 'false');
          }
        });
      })();
    </script>

    <script src="script.js"></script>
  </body>
</html>
